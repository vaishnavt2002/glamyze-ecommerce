{% extends 'user/account_layout.html' %}
{% block address_active5 %}active{% endblock %}
{% block content %}

<div class="card">
    
    
    <div class="card">
        <div class="card-header">
          <h4>Update Address</h4>
        </div>
        
        <div class="card-body">
          <form method="post" action=""> 
            {% csrf_token %}
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" name="name" placeholder="Name" value="{{ address.name }}" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="phone">Phone Number</label>
                <input type="text" class="form-control" id="phone" name="phone" placeholder="Phone Number" value="{{ address.phone }}" required>
              </div>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="pincode">Pincode</label>
                <input type="text" class="form-control" id="pincode" name="pincode" placeholder="Pincode" value="{{ address.pincode }}" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="locality">Locality</label>
                <input type="text" class="form-control" id="locality" name="locality" placeholder="Locality" value="{{ address.locality }}" required>
              </div>
            </div>
            
            <div class="mb-3">
              <label for="address">Address (Area/Street)</label>
              <textarea class="form-control" id="address" name="address" rows="3" placeholder="Address (Area/Street)" required>{{ address.address }}</textarea>
            </div>
            
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="city">City/District/Town</label>
                <input type="text" class="form-control" id="city" name="city" placeholder="City/District/Town" value="{{ address.city }}" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="state">State</label>
                <input type="text" class="form-control" id="state" name="state" placeholder="State" value="{{ address.state }}" required>
              </div>
            </div>
            
            <!-- Conditionally show Landmark and Alternate Phone fields only if they have values -->
            <div class="row">
              
              <div class="col-md-6 mb-3">
                <label for="landmark">Landmark (Optional)</label>
                <input type="text" class="form-control" id="landmark" name="landmark" placeholder="Landmark (Optional)" value={% if address.landmark %}"{{ address.landmark }}"{% endif %}>
              </div>
              
              
              <div class="col-md-6 mb-3">
                <label for="alternate_phone">Alternate Phone (Optional)</label>
                <input type="text" class="form-control" id="alternate_phone" name="alternate_phone" placeholder="Alternate Phone (Optional)" value={% if address.alternate_phone %}"{{ address.alternate_phone }}"{% endif %}>
              </div>
              
            </div>

            <!-- Radio Buttons for Address Type -->
            <div class="row mb-3">
              <div class="col-12">
                  <div class="form-group d-flex align-items-center">
                      <label  style="margin-right: 25px;">Address Type:</label>
                      <div class="d-flex" >
                          <div class="form-check " style="margin-right: 50px;">
                              <input type="radio" class="form-check-input" id="homeAddressEdit" name="addressType"
                                     value="home"
                                     {% if address.office_home == 'home' %}checked{% endif %} required>
                              <label class="form-check-label" style="margin-left: -23px;" for="homeAddressEdit">Home Address</label>
                          </div>
                          <div class="form-check">
                              <input type="radio" class="form-check-input" id="officeAddressEdit"
                                     name="addressType"
                                     value="office"
                                     {% if address.office_home == 'office' %}checked{% endif %}>
                              <label class="form-check-label" style="margin-left: -23px;" for="officeAddressEdit">Office Address</label>
                          </div>
                      </div>
                  </div>
              </div>
            </div>
            {% if errors %}
            <div style="display: flex; align-items: center; justify-content: center;">
            <div class="alert alert-danger align-center" >
                <ul>
                    {% for error in errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
          </div>
            {% endif %}
            <div class="d-flex">
              <button type="submit" class="btn btn-dark mr-3">UPDATE</button> 
              <a type="button" href="{% url 'address_app:address_view' %}" class="btn btn-outline-secondary">CANCEL</a> 
            </div>

          </form>
        </div>
      </div>
</div>
{% endblock content %}
